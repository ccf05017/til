## 2장. 테스트
- IoC/DI와 더불어 스프링의 핵심을 이루는 축 중 하나
- IoC/DI가 객체지향 설계와 구현에 도움을 준다면, 테스트는 변화에 대한 확신을 주는 도구

### 2.1. 테스트는 어때야 할까
- 테스트는 왜 하는가?
    - 내가 예상하고 의도했던대로 코드가 동작하는지 정확히 확인하고 만든 코드에 확신을 부여하는 작업
    - 이 선행 조건이 없으면 리팩토링을 안심하고 수행할 수 없다.
    - 즉, 변화에 두려움을 갖고 변화를 만들지 않으려 하게 된다.
- 통합 테스트의 문제점
    - 책에서 예시로 든, 그리고 가장 많이 사용하는 웹의 통합 테스트를 수행하면 엮여있는 것들이 너무 많다.
    - 테스트가 실패했을 때 도대체 어디서 문제가 발생한 건지 확인해야 될 부분이 너무 많고 꼬여있다.
    - 그렇다고 통합 테스트를 안해야 된다는 의미는 `절대 아니다.`
    - 통합 테스트는 유저 시나리오 테스트로써 아주 중요하다.
    - 다만 통합 테스트'만' 하면 어려울 수 있다는 의미다.
- 단위 테스트
    - 위와 같은 통합 테스트의 단점을 극복하기 위해 `작은 단위`로 나눠서 테스트하는 단위 테스트가 필요하다.
    - 여기서 `작은 단위`는 상대적이다. 상황에 따라 적절한 크기가 다르다.
    - 중요한 건 하나의 관심에 집중해서 효율적으로 테스트 할만하다면 된다.
        - 이는 개인마다 편차가 있기 때문에 개인마다 그 범위가 아주아주 다를 수 있다.
    - 또한 통제할 수 없는 외부 리소스에 의존하면, 단위 테스트라 할 수 없다.
    - 위 조건을 충족하는 단위 테스트를 만들면 개발자가 즉각적으로 자신의 코드에 대한 피드백을 얻고 빠르게 개선할 수 있다.
- 자동수행 테스트 코드
    - 테스트할 데이터가 코드를 통해 제공되고 테스트 작업 역시 코드로 자동으로 실행되는 테스트를 의미한다.
    - 모든 게 코드에 있어야 한다.
    - 이를 통해 자주 반복 수행하며 개발중인 코드에 대한 확신을 얻을 수 있다.
- 지속적인 개선과 점진적인 개발의 도구
    - 자동수행되는 단위 테스트가 없었다면 쓰래기같은 UserDao를 개선할 때 문제가 많았을 것이다.
    - 혹은 대충 하다가 넘어갔을 확률이 높다.
    - 지속적인 개선과 점진적인 개발과정으로 견고한 애플리케이션을 만들기 위해서는 자동화 된 테스트(단위, 통합)가 필수적이다.  
- UserDao Test는?
    - 위의 관점으로 봤을 때 UserDao 테스트는 수정할 사항이 꾀 있다.
    - 확인이 수동으로(사람눈으로) 이루어지기 때문에 번거롭다.
    - 실행작업을 매번 main을 돌려줘야 되기 때문에 한개일 땐 할만하지만 쌓이면 쌓일수록 과부하가 걸린다.
