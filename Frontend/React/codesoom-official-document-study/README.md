# 리액트 공식문서 함께 읽기 스터디
- 20201026 ~ 20201120 매주 수요일 21:00~22:30
- 코드숨 그룹 주관 진행
- [공식문서](https://ko.reactjs.org/docs/hello-world.html)

## 1. 주요 개념
### 1.1. JSX
- 리액트의 관심사 분리: 컴포넌트
  - 별도의 파일에 마크업과 로직을 넣지 않는다.
  - 느슨하게 연결된 유닛으로 관심사 분리를 이룬다.
- 위와 같이 결정한 이유는 `렌더링 로직이 본질적으로 다른 UI로직과 연결된다`를 믿기 때문(?)
- [관련링크](https://www.youtube.com/watch?v=x7cQ3mrcKaY)
- 반드시 JSX로 리액트를 구현해야되는 것은 `아니다`
- JSX의 중괄호 안에는 `모든 자바스크립트 표현식`을 넣을 수 있다.
- JSX를 여러줄로 나눌 때는 괄호로 묶는 것이 좋다
  - 이게 없으면 자동 세미콜론이 붙으면서 오류가 발생할 수 있다.
- JSX도 표현식이다.
  - 컴파일이 끝나면 JSX도 `정규 자바스크립트 객체`로 인식된다.
  - 이 때문에 조건문, 반복문 사용이나 변수 할당, 인자 전달, 반환 등 모든 방면에 사용 가능하다.
- JSX의 속성 정의
  - HTML이 아닌 자바스크립트에 가깝기 때문에 카멜 케이스를 사용한다.
  - 속성에 문자열, 자바스크립트 표현식을 넣을 수 있다.
- JSX는 기본적으로 주입 공격을 방지한다.(XSS 방지)
  - 렌더링 전 모두 문자열로 변환되기 때문
- JSX의 객체 표현
  - 바벨에서 JSX를 React.createElement() 호출로 컴파일해준다.
  ```javascript
  const element = (
    <h1 className="hi">
      Hello, React!
    </h1>
  );

  const element2 = React.createElement(
    'h1',
    { className: 'hi' },
    'Hello, React!'
  );
  ```
  - CreateElement에 의해 컴파일된 자바스크립트 객체를 '리액트 엘리먼트'라 한다.
    - 이를 화면에 표시하려는 항목에 대한 설명으로 볼 수 있다.
    - 리액트가 DOM을 구성하고 최신으로 유지할 때 이 객체(엘리먼트)를 활용한다.
- 핵심질문: JSX를 표현식으로 취급하고 반복문, 조건문 등에 사용할 수 있는 이유는 JSX가 기본적으로 `자바스크립트 객체`이기 때문이다.

### 1.2. 엘리먼트
- 엘리먼트는 `리액트 앱의 가장 작은단위`
- 리액트 엘리먼트는 DOM 엘리먼트가 아니라 `일반 자바스크립트 객체`
- 컴포넌트 !== 엘리먼트
- 일반적으로 리액트는 `하나의 DOM 노드`에 `리액트 엘리먼트`를 렌더링해서 구현된다.
  - 기존 앱과 통합하는 과정에서는 독립된 루트 DOM이 여러개일 수 있다.
- 렌더링된 `리액트 DOM`은 `리액트 엘리먼트`와 일치하도록 DOM을 업데이트한다.
- 리액트 엘리먼트는 `불변객체`다.
  - 즉, 엘리먼트의 상태 변경은 없고 새로운 엘리먼트가 생성될 뿐이다.
  - 이 때문에 리액트의 상태에 따른 화면 변화는 `영화의 프레임`에 비유할 수 있다.
- 리액트의 렌더링은 `리액트 엘리먼트를 비교`하고 변경된 부분만 DOM에 업데이트한다.
- 핵심질문: 리액트 엘리먼트는 `불변` 자바스크립트 객체다.

### 1.3. 컴포넌트와 props
- 컴포넌트를 통해 UI를 재사용성이 높은 개별적인 여러 조각으로 나눌 수 있다.
- 컴포넌트는 개념적으로 자바스크립트 함수와 흡사하다.
  - props를 인자로 받고 화면에 어떻게 보일지 기술하는 `리액트 엘리먼트`를 반환한다.
  - props는 속성을 나타내는 데이터다.
  - props은 단일 `객체`다.
- 컴포넌트 이름은 무조건 `대문자`로 시작한다.
  - 소문자로 시작하면 DOM 태그로 처리한다.
- 컴포넌트는 가능한 작게 계속 쪼개자.
- props는 `읽기 전용`이다. 절대 props를 수정하지 말아라.
  - 즉, 모든 리액트 컴포넌트는 자신의 props를 다룰 때 `순수 함수`로 다뤄야 한다.
- 핵심질문: 컴포넌트는 `props`를 인자로 받고 화면에 어떻게 보일지 기술하는 `리액트 엘리먼트`를 반환하는 자바스크립트 `함수`다.

### 1.4. state와 생명주기
- 클래스 컴포넌트는 `생명주기 함수`로 렌더링 변경사항을 반영할 수 있다.
  - 클래스 컴포넌트 사용시 생성자에 `props`를 꼭 전달해야 한다.
- 리액트 컴포넌트가 DOM에 렌더링 되는 순간을 `마운팅`이라 한다. 
  - 관련 생명주기 함수: componentDidMount(), componentWillUnmount()
- state 관련 주의사항
  - 절대 직접 state를 수정하지 말 것.
    - setState를 사용해라
  - state 업데이트는 비동기적으로 일어날 수 있다.
    - `다음 state를 계산`할 때 `현재 state`에 의존하면 안된다.
    - 위의 현상을 피하려면 setState의 함수 인자로 콜백을 사용한다.
    ```javascript
    this.setState((state, props) => ({
      counter: state.counter + props.increment
    }));
    ```
  - setState 함수는 호출할 때 리액트에서 제공한 객체를 현재 state로 병합시킨다.
- 데이터는 아래로 흐른다
  - 부모 컴포넌는 props 형태로 자식 컴포넌트에게 상태를 전달할 수 있다.
- 핵심질문: state를 다룰 때 주의 사항 세가지는? -> 직접 수정 불가, 업데이트 비동기 가능성, 상태 병합
